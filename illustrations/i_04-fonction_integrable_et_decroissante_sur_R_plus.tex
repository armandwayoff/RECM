\begin{tikzpicture}[scale=0.5]
  
  \def\xmax{4.5}
  \def\ymax{1.5}
  \def\ymin{-2}
  \def\xzero{2}
  \def\x{5}

    \begin{axis}[
        restrict x to domain=0:8,
        samples=100, % you don't need 1000, it only slows things down
        ticks=none,
        xmin = -1, xmax = \xmax+1,
        ymin = \ymin, ymax = \ymax,
        unbounded coords=jump,
        axis x line=middle,
        axis y line=middle,
        % xlabel={$x$},
        % ylabel={$y$},
        x label style={
          at={(axis cs:5.1,0.2)},
          anchor=west,
        },
        every axis y label/.style={
          at={(axis cs:0,1.5)},
          anchor=south
        },
        legend style={
          at={(axis cs:-5.2,4)},
          anchor=west, font=\scriptsize
        },
        declare function={f(\x)=2*e^(-\x^2/2)-(\x/7)^2-1;},
        ] 
      \addplot[name path=A,very thick,color=blue, mark=none, domain=0:\xmax] {f(x)}
          node [above=8mm,near start] {$f\textcolor{black}{(x)}$};
          
      \addplot[mark=*,fill=white] coordinates {(\xzero,{f(\xzero)})};
      \draw[dashed] (axis cs:0,{f(\xzero)}) node[left=1mm] (l) {$f(x_0)$} -| (axis cs:2,0) node[above] (a) {$x_0$}; 
      \draw (axis cs:\x-0.5,0) node[above] {$x$};

    \path [name path=B] (0,0)--(\xmax, 0);
    \addplot [blue!20!white] fill between [of=A and B, soft clip={domain=\xzero:\x}];

    \fill[red!30!white, pattern=north east lines] (\xzero,0) rectangle (\x-0.5,f(\xzero);
    
    \end{axis}

    \draw[->, black, thick] (5, 4) node[above] {$f(x_0) (x - x_0)$} to [out=-90,in=90] ($(4.5,2.6)$);

    \draw[->, black, thick] (4, 1) node[left] {\color{blue}$\displaystyle \int_{x_0}^x f(t)\, \mathrm{d} t$} to [out=0,in=-90] ($(4.5,1.6)$);
    
  \end{tikzpicture}