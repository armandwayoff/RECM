\usepackage[framemethod=TikZ]{mdframed}
\usetikzlibrary{shadows}
\usepackage{amsthm}
\usepackage{thmtools}
\usepackage{xcolor}

\newcommand{\declaretheoremstylewithcolor}[3]{
  \declaretheoremstyle[
      numberwithin=section,
      headfont=\bfseries\color{#2},
      postheadhook=\leavevmode,
      notefont=\normalfont\bfseries,
      headformat=\NAME~\newstylenums{\NUMBER}\NOTE,
      bodyfont=#3,
      mdframed={%
          backgroundcolor=#2!5!white,
          linecolor=#2,
          linewidth=1pt,
          topline=false,
          bottomline=false,
          roundcorner=3pt,
          skipabove=5pt,
          innertopmargin=3pt,
          innerbottommargin=5pt
      }
  ]{#1} 
}

\declaretheoremstylewithcolor{styleMahogany}{Mahogany}{\normalfont}
\declaretheoremstylewithcolor{stylePeriwinkle}{Periwinkle}{\itshape}
\declaretheoremstylewithcolor{styleMulberry}{Mulberry}{\normalfont}
\declaretheoremstylewithcolor{styleJungleGreen}{JungleGreen}{\normalfont}
\declaretheoremstylewithcolor{styledarkgray}{darkgray}{\normalfont}

\declaretheorem[style=styleMahogany,    name=Définition]{defi}
\declaretheorem[style=styleMahogany,    name=Définitions]{defns}
\declaretheorem[style=stylePeriwinkle,  name=Théorème]{theo}
\declaretheorem[style=stylePeriwinkle,  name=Lemme]{lemme}
\declaretheorem[style=stylePeriwinkle,  name=Corollaire]{corol}
\declaretheorem[style=stylePeriwinkle,  name=Proposition]{prop}
\declaretheorem[style=styleMulberry,    name=Exercice]{exercice}
\declaretheorem[style=styleJungleGreen, name=Remarque]{remarque}
\declaretheorem[style=styleJungleGreen, name=Remarques]{remarques}
\declaretheorem[style=styledarkgray,    name=Méthode]{methode}

\declaretheoremstyle[
    numberwithin=section,
    headfont=\bfseries,%\scshape,
    notefont=\normalfont\bfseries,%\itshape, 
    headformat=\NAME~\newstylenums{\NUMBER}\NOTE,
    postheadhook=\leavevmode,
    mdframed={%
        topline=false,
        linewidth=1pt,
        %leftline=false,
        rightline=false,
        bottomline=false,
        % roundcorner=2pt,
        % splittopskip=20pt, 
        skipabove = 5pt, % to adjust the above skip
        innertopmargin=0pt,
        innerbottommargin=0pt
        }
]{styledefault}

\declaretheoremstyle[
    % spaceabove=6pt, spacebelow=6pt,
    headfont=\normalfont\bfseries,%\scshape,
    notefont=\normalfont\bfseries,%\itshape, 
    notebraces={(}{)},
    bodyfont=\normalfont,
    postheadhook=\leavevmode
    % postheadspace=1em
]{styledemosoluex}

\declaretheoremstyle[
    headformat=\!\!\NOTE,
    notefont=\normalfont\bfseries,%\scshape, 
    notebraces={}{},
    bodyfont=\normalfont,
    postheadhook=\leavevmode
    % postheadspace=1em
]{styleenvide}

\declaretheorem[
    style=styledemosoluex,
    qed=\qedsymbol,
    name=$\blacksquare$\ Démonstration,
    numbered=no
]{demo}

\declaretheorem[
    style=styledemosoluex,
    qed=\qedsymbol,
    name=$\blacksquare$\ Éléments de démonstration,
    numbered=no
]{elemdemo}

\declaretheorem[
    style=styledemosoluex,
    qed=$\lhd$,
    name=$\blacktriangleright$\ Solution,
    numbered=no
]{solution}

\declaretheorem[
    style=styledemosoluex,
    qed=$\lhd$,
    name=$\blacktriangleright$\ Éléments de solution,
    numbered=no
]{elemsolution}
 
\declaretheorem[
    style=styledemosoluex,
    qed=$\Diamond$,
    name=$\blacklozenge$\ Exemple,
    numbered=no
]{exemple}

\declaretheorem[
    style=styledemosoluex,
    qed=$\Diamond$,
    name=$\blacklozenge$\ Exemples,
    numbered=no
]{exemples}

\declaretheorem[
    style=styledemosoluex,
    qed=$\Diamond$,
    name=$\blacklozenge$\ Contre-exemple,
    numbered=no
]{contreexemple}

\declaretheorem[
    style=styledemosoluex,
    qed=$\Diamond$,
    name=$\blacklozenge$\ Contre-exemples,
    numbered=no
]{contreexemples}

\declaretheorem[
    style=styleenvide,
    numbered=no,
]{envide}
